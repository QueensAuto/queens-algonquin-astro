---
import type { BrandConfig } from "../brands";
import { mobileTiresBrand } from "../brands";
import CtaButton from "./CtaButton.astro";

const { brand = mobileTiresBrand } = Astro.props as { brand?: BrandConfig };
const encodedAddress = encodeURIComponent(`${brand.name}, ${brand.address}`);
---

<section
    class="py-16 md:py-24 bg-gray-50 dark:bg-[#0a0f18] border-t border-gray-100 dark:border-white/5 relative overflow-hidden"
>
    <!-- Decorative background elements -->
    <div class="absolute inset-0 pointer-events-none overflow-hidden">
        <div
            class="absolute -top-[20%] -right-[10%] w-[500px] h-[500px] bg-queens-primary/5 dark:bg-queens-primary/10 rounded-full blur-[100px]"
        >
        </div>
        <div
            class="absolute -bottom-[20%] -left-[10%] w-[400px] h-[400px] bg-queens-primary/5 dark:bg-queens-primary/10 rounded-full blur-[100px]"
        >
        </div>
    </div>

    <div class="site-canvas relative z-10">
        <div
            class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16 items-center"
        >
            <!-- Content Left Side -->
            <div class="lg:col-span-5 flex flex-col justify-center">
                <span
                    class="text-sm font-black uppercase tracking-widest text-queens-primary mb-4 block"
                    >Find Us</span
                >
                <h2
                    class="text-4xl md:text-5xl font-black mb-6 text-queens-secondary dark:text-white leading-[1.1]"
                >
                    Visit Queens Auto Services in <span
                        class="text-queens-primary">{brand.cityLabel}</span
                    >
                </h2>

                <p
                    class="text-lg text-gray-600 dark:text-gray-400 mb-10 leading-relaxed font-light"
                >
                    Conveniently located at {brand.address}. Drop in or schedule
                    an appointment â€” we're ready to help.
                </p>

                <div class="space-y-8 mb-10">
                    <!-- Address -->
                    <div class="flex items-start gap-4">
                        <div
                            class="mt-1 flex-shrink-0 w-10 h-10 rounded-full bg-queens-primary/10 text-queens-primary flex items-center justify-center"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                                ></path>
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <span
                                class="text-sm font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500 block mb-1"
                                >Address</span
                            >
                            <span
                                class="text-lg text-queens-secondary dark:text-white font-medium"
                                >{brand.address}</span
                            >
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="flex items-start gap-4">
                        <div
                            class="mt-1 flex-shrink-0 w-10 h-10 rounded-full bg-queens-primary/10 text-queens-primary flex items-center justify-center"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                                ></path>
                            </svg>
                        </div>
                        <div>
                            <span
                                class="text-sm font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500 block mb-1"
                                >Phone</span
                            >
                            <a
                                href={`tel:${brand.phone.replace(/[^0-9]/g, "")}`}
                                class="text-lg text-queens-secondary dark:text-white font-medium hover:text-queens-primary transition-colors"
                                >{brand.phone}</a
                            >
                        </div>
                    </div>

                    <!-- Hours -->
                    <div class="flex items-start gap-4">
                        <div
                            class="mt-1 flex-shrink-0 w-10 h-10 rounded-full bg-queens-primary/10 text-queens-primary flex items-center justify-center"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                                ></path>
                            </svg>
                        </div>
                        <div>
                            <span
                                class="text-sm font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500 block mb-1"
                                >Hours</span
                            >
                            <div
                                class="text-lg text-queens-secondary dark:text-white font-medium flex flex-col"
                            >
                                <span
                                    >Mon-Fri: {
                                        brand.hours?.monFri ||
                                            "7:30 AM - 6:00 PM"
                                    }</span
                                >
                                <span
                                    class="text-sm text-gray-500 dark:text-gray-400 mt-1"
                                    >Sat: {
                                        brand.hours?.sat || "7:30 AM - 4:00 PM"
                                    }</span
                                >
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <CtaButton
                        href={brand.googleMapsUrl}
                        text="Get Directions"
                        target="_blank"
                        rel="noopener noreferrer"
                    />
                </div>
            </div>

            <!-- Map Right Side -->
            <div class="lg:col-span-7">
                <div
                    class="rounded-3xl overflow-hidden shadow-2xl border border-gray-200 dark:border-white/10 h-[500px] md:h-[600px] relative w-full transform transition-transform duration-500 hover:scale-[1.01]"
                >
                    <iframe
                        width="100%"
                        height="100%"
                        style="border:0"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2957.990694411701!2d-88.25980012386633!3d42.150485948316046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x880f0c1b15db73cf%3A0xcc0cfe9a3c4bedf!2sQueens%20Auto%20Services!5e0!3m2!1sen!2sus!4v1771621595338!5m2!1sen!2sus"
                        title={`Google Maps Location for \${brand.name}`}
                    ></iframe>
                </div>
            </div>
        </div>
    </div>
</section>
