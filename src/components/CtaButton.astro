---
interface Props {
  href?: string;
  text?: string;
  class?: string;
  variant?: "standard" | "large";
  theme?: "default" | "solid";
  reload?: boolean;
}

const {
  href = "/request-an-appointment",
  text = "Get in touch",
  class: className = "",
  variant = "standard",
  theme = "default",
  reload = false,
} = Astro.props;
---

<a
  href={href}
  data-astro-reload={reload || undefined}
  class:list={[
    "btn-cta-premium group relative inline-flex items-center gap-2 rounded-full px-2 py-1.5 transition-all duration-300 ease-out hover:scale-105 shadow-md",
    theme === "solid" ? "theme-solid" : "theme-default",
    className,
  ]}
>
  <!-- Text Section with Vertical Scroll -->
  <span class="relative h-5 overflow-hidden pl-4 pr-1">
    <span
      class="flex flex-col transition-transform duration-500 ease-out group-hover:-translate-y-1/2"
    >
      <span
        class="btn-text flex h-5 items-center whitespace-nowrap text-sm font-black uppercase tracking-[0.15em]"
      >
        {text}
      </span>
      <span
        class="btn-text flex h-5 items-center whitespace-nowrap text-sm font-black uppercase tracking-[0.15em]"
      >
        {text}
      </span>
    </span>
  </span>

  <!-- Icon Circle Badge with Horizontal Slide -->
  <div
    class="badge relative flex items-center justify-center overflow-hidden h-8 w-8 rounded-full"
  >
    <!-- First Arrow -->
    <div
      class="flex h-full w-full items-center justify-center transition-transform duration-500 ease-out group-hover:translate-x-full"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="3"
        stroke="currentColor"
        class="btn-icon h-3.5 w-3.5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"></path>
      </svg>
    </div>
    <!-- Entering Arrow -->
    <div
      class="absolute inset-0 flex items-center justify-center -translate-x-full transition-transform duration-500 ease-out group-hover:translate-x-0"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="3"
        stroke="currentColor"
        class="btn-icon h-3.5 w-3.5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"></path>
      </svg>
    </div>
  </div>
</a>

<style>
  /* ========================================
     DEFAULT THEME (White BG, Blue Text)
     ======================================== */
  .theme-default {
    background-color: #ffffff !important;
  }
  .theme-default .btn-text {
    color: var(--color-queens-primary) !important;
  }
  .theme-default .badge {
    background-color: var(--color-queens-primary) !important;
  }
  .theme-default .btn-icon {
    color: #ffffff !important;
  }

  /* Dark Mode Default (Blue BG, White Text) */
  :global(.dark) .theme-default {
    background-color: var(--color-queens-primary) !important;
  }
  :global(.dark) .theme-default .btn-text {
    color: #ffffff !important;
  }
  :global(.dark) .theme-default .badge {
    background-color: #0b1121 !important; /* Queens Navy */
  }
  :global(.dark) .theme-default .btn-icon {
    color: #ffffff !important;
  }

  /* ========================================
     SOLID THEME (Reverse of Default)
     ======================================== */
  .theme-solid {
    background-color: var(--color-queens-primary) !important;
  }
  .theme-solid .btn-text {
    color: #ffffff !important;
  }
  .theme-solid .badge {
    background-color: #ffffff !important;
  }
  .theme-solid .btn-icon {
    color: var(--color-queens-primary) !important;
  }

  /* Dark Mode Solid (White BG, Blue Text) */
  :global(.dark) .theme-solid {
    background-color: #ffffff !important;
  }
  :global(.dark) .theme-solid .btn-text {
    color: var(--color-queens-primary) !important;
  }
  :global(.dark) .theme-solid .badge {
    background-color: var(--color-queens-primary) !important;
  }
  :global(.dark) .theme-solid .btn-icon {
    color: #ffffff !important;
  }
</style>
